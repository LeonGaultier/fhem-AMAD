<?xml version='1.0' encoding='UTF-8' standalone='yes' ?>
<data version="1.28.0">
  <trigger type="general_broadcast">
    <useDefaultName>false</useDefaultName>
    <name>com.android.music.metachanged</name>
    <enabled>true</enabled>
    <action>com.android.music.metachanged</action>
    <categoryList></categoryList>
    <dataSchemeList></dataSchemeList>
    <dataAuthorityList></dataAuthorityList>
    <dataPathLiteralList></dataPathLiteralList>
    <dataPathPrefixList></dataPathPrefixList>
    <dataPathGlobList></dataPathGlobList>
    <dataTypeList></dataTypeList>
    <extras>artist = getString("artist");
track = getString("track");
album = getString("album");</extras>
    <receiveInitialStickyBroadcast>false</receiveInitialStickyBroadcast>
  </trigger>
  <trigger type="http_request">
    <useDefaultName>true</useDefaultName>
    <name>HTTP Request: /automagic/mediaPlayer, Port 8089</name>
    <enabled>true</enabled>
    <path>/automagic/mediaPlayer</path>
    <port>8089</port>
    <acquireWifiLock>true</acquireWifiLock>
  </trigger>
  <condition type="expression">
    <useDefaultName>true</useDefaultName>
    <name>Expression: param_button == "back"</name>
    <expression>param_button == "back"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>true</useDefaultName>
    <name>Expression: param_button == "next"</name>
    <expression>param_button == "next"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>true</useDefaultName>
    <name>Expression: param_button == "play"</name>
    <expression>param_button == "play"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>true</useDefaultName>
    <name>Expression: param_button == "stop"</name>
    <expression>param_button == "stop"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>true</useDefaultName>
    <name>Expression: trigger == "com.android.music.metachanged"</name>
    <expression>trigger == "com.android.music.metachanged"</expression>
  </condition>
  <condition type="wifi_connected">
    <useDefaultName>true</useDefaultName>
    <name>WLAN Verbunden: </name>
    <all>false</all>
    <ssidList></ssidList>
  </condition>
  <action type="control_audio_player">
    <useDefaultName>true</useDefaultName>
    <name>Audio Player steuern: Medienknopf Play (Google Play Musik)</name>
    <simulateMediaButton>true</simulateMediaButton>
    <broadcastAction>LAUNCH</broadcastAction>
    <mediaButton>KEYCODE_MEDIA_PLAY</mediaButton>
    <explicitComponent>true</explicitComponent>
    <packageName>com.google.android.music</packageName>
    <className>com.google.android.music.playback.MediaButtonIntentReceiver</className>
    <appName>Google Play Musik</appName>
  </action>
  <action type="control_audio_player">
    <useDefaultName>true</useDefaultName>
    <name>Audio Player steuern: Medienknopf Stopp (Google Play Musik)</name>
    <simulateMediaButton>true</simulateMediaButton>
    <broadcastAction>LAUNCH</broadcastAction>
    <mediaButton>KEYCODE_MEDIA_STOP</mediaButton>
    <explicitComponent>true</explicitComponent>
    <packageName>com.google.android.music</packageName>
    <className>com.google.android.music.playback.MediaButtonIntentReceiver</className>
    <appName>Google Play Musik</appName>
  </action>
  <action type="control_audio_player">
    <useDefaultName>true</useDefaultName>
    <name>Audio Player steuern: Medienknopf Weiter (Google Play Musik)</name>
    <simulateMediaButton>true</simulateMediaButton>
    <broadcastAction>LAUNCH</broadcastAction>
    <mediaButton>KEYCODE_MEDIA_NEXT</mediaButton>
    <explicitComponent>true</explicitComponent>
    <packageName>com.google.android.music</packageName>
    <className>com.google.android.music.playback.MediaButtonIntentReceiver</className>
    <appName>Google Play Musik</appName>
  </action>
  <action type="control_audio_player">
    <useDefaultName>true</useDefaultName>
    <name>Audio Player steuern: Medienknopf Zurück (Google Play Musik)</name>
    <simulateMediaButton>true</simulateMediaButton>
    <broadcastAction>LAUNCH</broadcastAction>
    <mediaButton>KEYCODE_MEDIA_PREVIOUS</mediaButton>
    <explicitComponent>true</explicitComponent>
    <packageName>com.google.android.music</packageName>
    <className>com.google.android.music.playback.MediaButtonIntentReceiver</className>
    <appName>Google Play Musik</appName>
  </action>
  <action type="http_request">
    <useDefaultName>true</useDefaultName>
    <name>HTTP Request: GET http://IP_FHEM:8085/fhem?cmd=setreading%20DEVICENAME%20currentPlayMusicAlbum%20{encodeURLForm(album)}   speichern in response</name>
    <url>http://IP_FHEM:8085/fhem?cmd=setreading%20DEVICENAME%20currentPlayMusicAlbum%20{encodeURLForm(album)}</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <httpMethod>GET</httpMethod>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>text/plain</contentType>
    <generalTextData></generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>false</setCustomHTTPHeaders>
    <customHTTPHeaders></customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <path>/storage/emulated/0/Download/file.bin</path>
  </action>
  <action type="http_request">
    <useDefaultName>true</useDefaultName>
    <name>HTTP Request: GET http://IP_FHEM:8085/fhem?cmd=setreading%20DEVICENAME%20currentPlayMusicArtist%20{encodeURLForm(artist)}   speichern in response</name>
    <url>http://IP_FHEM:8085/fhem?cmd=setreading%20DEVICENAME%20currentPlayMusicArtist%20{encodeURLForm(artist)}</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <httpMethod>GET</httpMethod>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>text/plain</contentType>
    <generalTextData></generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>false</setCustomHTTPHeaders>
    <customHTTPHeaders></customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <path>/storage/emulated/0/Download/file.bin</path>
  </action>
  <action type="http_request">
    <useDefaultName>true</useDefaultName>
    <name>HTTP Request: GET http://IP_FHEM:8085/fhem?cmd=setreading%20DEVICENAME%20currentPlayMusicTrack%20{encodeURLForm(track)}   speichern in response</name>
    <url>http://IP_FHEM:8085/fhem?cmd=setreading%20DEVICENAME%20currentPlayMusicTrack%20{encodeURLForm(track)}</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <httpMethod>GET</httpMethod>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>text/plain</contentType>
    <generalTextData></generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>false</setCustomHTTPHeaders>
    <customHTTPHeaders></customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <path>/storage/emulated/0/Download/file.bin</path>
  </action>
  <flow type="flow">
    <name>Mediaplayer</name>
    <group>FHEM Info / Steuerung über AMAD Modul</group>
    <enabled>true</enabled>
    <executionPolicy>PARALLEL</executionPolicy>
    <triggercontainer id="t1" x="455.0" y="-577.5">
      <trigger>HTTP Request: /automagic/mediaPlayer, Port 8089</trigger>
      <trigger>com.android.music.metachanged</trigger>
    </triggercontainer>
    <actioncontainer id="t2" x="455.0" y="437.5">Audio Player steuern: Medienknopf Zurück (Google Play Musik)</actioncontainer>
    <actioncontainer id="t3" x="210.0" y="437.5">Audio Player steuern: Medienknopf Weiter (Google Play Musik)</actioncontainer>
    <actioncontainer id="t4" x="-385.0" y="437.5">Audio Player steuern: Medienknopf Stopp (Google Play Musik)</actioncontainer>
    <actioncontainer id="t5" x="-70.0" y="437.5">Audio Player steuern: Medienknopf Play (Google Play Musik)</actioncontainer>
    <conditioncontainer id="t6" x="-70.0" y="122.5">Expression: param_button == "play"</conditioncontainer>
    <conditioncontainer id="t7" x="210.0" y="122.5">Expression: param_button == "next"</conditioncontainer>
    <conditioncontainer id="t8" x="455.0" y="122.5">Expression: param_button == "back"</conditioncontainer>
    <conditioncontainer id="t9" x="-385.0" y="122.5">Expression: param_button == "stop"</conditioncontainer>
    <conditioncontainer id="t10" x="455.0" y="-332.5">Expression: trigger == "com.android.music.metachanged"</conditioncontainer>
    <conditioncontainer id="t11" x="980.0" y="122.5">WLAN Verbunden: </conditioncontainer>
    <actioncontainer id="t12" x="980.0" y="437.5">HTTP Request: GET http://IP_FHEM:8085/fhem?cmd=setreading%20DEVICENAME%20currentPlayMusicAlbum%20{encodeURLForm(album)}   speichern in response</actioncontainer>
    <actioncontainer id="t13" x="770.0" y="437.5">HTTP Request: GET http://IP_FHEM:8085/fhem?cmd=setreading%20DEVICENAME%20currentPlayMusicTrack%20{encodeURLForm(track)}   speichern in response</actioncontainer>
    <actioncontainer id="t14" x="1190.0" y="437.5">HTTP Request: GET http://IP_FHEM:8085/fhem?cmd=setreading%20DEVICENAME%20currentPlayMusicArtist%20{encodeURLForm(artist)}   speichern in response</actioncontainer>
    <connection from="t1" to="t10" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t6" to="t5" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t7" to="t3" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t8" to="t2" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t9" to="t4" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t11" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t9" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t6" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t7" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t8" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t11" to="t13" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t11" to="t12" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t11" to="t14" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
</data>